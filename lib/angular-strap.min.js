/**
 * AngularStrap - Twitter Bootstrap directives for AngularJS
 * @version v0.7.6 - 2013-09-25
 * @link http://mgcrea.github.com/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b,c){"use strict";angular.module("$strap.config",[]).value("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").directive("bsDatepicker",["$timeout","$strapConfig",function(a,b){var d=/(iP(a|o)d|iPhone)/g.test(navigator.userAgent),e=function(a){return a=a||"en",{"/":"[\\/]","-":"[-]",".":"[.]"," ":"[\\s]",dd:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",d:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",mm:"(?:[0]?[1-9]|[1][012])",m:"(?:[0]?[1-9]|[1][012])",DD:"(?:"+$.fn.datepicker.dates[a].days.join("|")+")",D:"(?:"+$.fn.datepicker.dates[a].daysShort.join("|")+")",MM:"(?:"+$.fn.datepicker.dates[a].months.join("|")+")",M:"(?:"+$.fn.datepicker.dates[a].monthsShort.join("|")+")",yyyy:"(?:(?:[1]{1}[0-9]{1}[0-9]{1}[0-9]{1})|(?:[2]{1}[0-9]{3}))(?![[0-9]])",yy:"(?:(?:[0-9]{1}[0-9]{1}))(?![[0-9]])"}},f=function(a,b){var c,d=a,f=e(b);return c=0,angular.forEach(f,function(a,b){d=d.split(b).join("${"+c+"}"),c++}),c=0,angular.forEach(f,function(a){d=d.split("${"+c+"}").join(a),c++}),new RegExp("^"+d+"$",["i"])};return{restrict:"A",require:"?ngModel",link:function(a,e,g,h){var i=angular.extend({autoclose:!0},b.datepicker||{}),j=g.dateType||i.type||"date";angular.forEach(["format","weekStart","calendarWeeks","startDate","endDate","daysOfWeekDisabled","autoclose","startView","minViewMode","todayBtn","todayHighlight","keyboardNavigation","language","forceParse"],function(a){angular.isDefined(g[a])&&(i[a]=g[a])});var k=i.language||"en",l=g.dateFormat||i.format||$.fn.datepicker.dates[k]&&$.fn.datepicker.dates[k].format||"mm/dd/yyyy",m=d?"yyyy-mm-dd":l,n=f(m,k),o=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;h&&(h.$formatters.unshift(function(a){return a&&"iso"===j&&o.test(a)?$.fn.datepicker.DPGlobal.parseDate(new Date(a),$.fn.datepicker.DPGlobal.parseFormat(l),k):a&&"date"===j&&angular.isString(a)?$.fn.datepicker.DPGlobal.parseDate(a,$.fn.datepicker.DPGlobal.parseFormat(l),k):a}),h.$parsers.unshift(function(a){return a?"date"!==j&&"iso"!==j||!angular.isDate(a)?angular.isString(a)&&n.test(a)?(h.$setValidity("date",!0),d?new Date(a):"string"===j?a:$.fn.datepicker.DPGlobal.parseDate(a,$.fn.datepicker.DPGlobal.parseFormat(m),k)):(h.$setValidity("date",!1),c):(h.$setValidity("date",!0),a):(h.$setValidity("date",!0),null)}),h.$render=function(){if(d){var a=h.$viewValue?$.fn.datepicker.DPGlobal.formatDate(h.$viewValue,$.fn.datepicker.DPGlobal.parseFormat(m),k):"";return e.val(a),a}return h.$viewValue||e.val(""),e.datepicker("update",h.$viewValue)}),d?e.prop("type","date").css("-webkit-appearance","textfield"):(h&&e.on("changeDate",function(b){a.$apply(function(){h.$setViewValue("string"===j?e.val():b.date)})}),e.datepicker(angular.extend(i,{format:m,language:k})),a.$on("$destroy",function(){var a=e.data("datepicker");a&&(a.picker.remove(),e.data("datepicker",null))}),g.$observe("startDate",function(a){e.datepicker("setStartDate",a)}),g.$observe("endDate",function(a){e.datepicker("setEndDate",a)}));var p=e.siblings('[data-toggle="datepicker"]');p.length&&p.on("click",function(){e.prop("disabled")||e.trigger("focus")})}}}])}(window,document);